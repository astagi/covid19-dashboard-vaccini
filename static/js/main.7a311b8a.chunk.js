(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{204:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var i=a(2),c=a(1),s=a.n(c),n=a(31),r=a.n(n),l=(a(204),a(8)),o=a(13),d=(a(30),a(129),a(130),a(131),a(132),a(12)),j=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d.a,{small:!1,theme:"",type:"slim",children:Object(i.jsxs)("div",{className:"d-flex mb-3 logo-section mx-auto pt-1 pb-2",children:[Object(i.jsx)("div",{children:Object(i.jsx)("div",{children:Object(i.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo ml-5 mr-2"})})})}),Object(i.jsx)("div",{children:Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Governo Italiano"})," Presidenza del Consiglio dei Ministri"]})})]})}),Object(i.jsx)("div",{className:"d-flex flex-column justify-content-center mainBanner",children:Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"logo.png",alt:"Logo",className:"main-logo"}),Object(i.jsx)("span",{className:"pl-3",children:"Report Vaccini Anti COVID-19"})]})})]})},m=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"footer-wrapper section section_grey_darker clearfix",children:Object(i.jsxs)("footer",{className:"footer_container container",id:"footer",children:[Object(i.jsx)("div",{className:"row title_row",children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsxs)("div",{className:"logo_container clearfix",children:[Object(i.jsx)("div",{className:"logo_wrapper clearfix",children:Object(i.jsx)("a",{href:"http://www.governo.it",children:Object(i.jsx)("img",{src:"logo.svg",className:"logo_footer",alt:"Emblema della Repubblica Italiana"})})}),Object(i.jsx)("div",{className:"logo_text clearfix",children:Object(i.jsxs)("h1",{children:[Object(i.jsx)("strong",{children:"Governo Italiano"})," Presidenza del Consiglio dei Ministri"]})})]})})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-9",children:Object(i.jsx)("div",{className:"row title_row",children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsx)("h3",{className:"contacts_footer",children:"Contatti"})})})}),Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsx)("div",{className:"row title_row",children:Object(i.jsxs)("div",{className:"col-md-12",children:[Object(i.jsx)("h3",{className:"h3_footer",children:"Seguici su"}),Object(i.jsxs)("div",{className:"footer_social clearfix social_footer",children:[Object(i.jsx)("a",{href:"https://www.facebook.com/palazzochigi.it/",title:"Seguici su Facebook",children:Object(i.jsx)(d.b,{color:"white",icon:"it-facebook",padding:!0,size:"small"})}),Object(i.jsx)("a",{href:"https://twitter.com/Palazzo_Chigi",title:"Seguici su Twitter",children:Object(i.jsx)(d.b,{color:"white",icon:"it-twitter",padding:!0,size:"small"})}),Object(i.jsx)("a",{href:"https://www.instagram.com/palazzo_chigi/",title:"Seguici su Instagram",children:Object(i.jsx)(d.b,{color:"white",icon:"it-instagram",padding:!0,size:"small"})}),Object(i.jsx)("a",{href:"https://www.youtube.com/palazzochigi",title:"Seguici su YouTube",children:Object(i.jsx)(d.b,{color:"white",icon:"it-youtube",padding:!0,size:"small"})}),Object(i.jsx)("a",{href:"https://www.linkedin.com/company/presidenza-del-consiglio-dei-ministri",title:"Seguici su LinkedIn",children:Object(i.jsx)(d.b,{color:"white",icon:"it-linkedin",padding:!0,size:"small"})})]})]})})}),Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsxs)("div",{className:"box_text box_text_footer new_footer clearfix",children:[Object(i.jsx)("h4",{children:"Presidenza del Consiglio dei Ministri"}),Object(i.jsxs)("p",{children:["Palazzo Chigi",Object(i.jsx)("br",{}),"Piazza Colonna 370",Object(i.jsx)("br",{}),"00187 Roma - Italia"]})]})}),Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsxs)("div",{className:"box_text box_text_footer new_footer clearfix",children:[Object(i.jsx)("h4",{children:"Corrispondenza cartacea"}),Object(i.jsxs)("p",{children:["Via dell'Impresa 89",Object(i.jsx)("br",{}),"00186 Roma - Italia"]}),Object(i.jsx)("p",{children:Object(i.jsx)("strong",{children:"\xc8 opportuno indicare chiaramente sull'involucro la Struttura destinataria"})})]})}),Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsxs)("div",{className:"box_text box_text_footer new_footer clearfix",children:[Object(i.jsx)("h4",{children:"Indirizzi di posta elettronica"}),Object(i.jsx)("p",{children:Object(i.jsx)("a",{href:"http://presidenza.governo.it/AmministrazioneTrasparente/Organizzazione/TelefonoPostaElettronica/PEC.html",children:"Elenco PEC"})}),Object(i.jsx)("p",{children:Object(i.jsx)("a",{href:"http://presidenza.governo.it/AmministrazioneTrasparente/Organizzazione/TelefonoPostaElettronica/email.html",children:"Elenco e-Mail"})})]})}),Object(i.jsx)("div",{className:"col-md-3",children:Object(i.jsxs)("div",{className:"box_text box_text_footer new_footer clearfix",children:[Object(i.jsx)("h4",{children:"Recapiti telefonici"}),Object(i.jsx)("p",{children:"Centralino: (+39) 06.6779.1"})]})})]})})]}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsxs)("ul",{className:"footer_links clearfix",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"http://www.governo.it/sala-stampa",title:"",children:"Sala stampa"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"http://www.governo.it/privacy-policy",title:"",children:"Privacy policy"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"http://www.governo.it/note-legali",title:"",children:"Note legali"})}),Object(i.jsx)("a",{href:"http://www.governo.it/feed/rss",title:"Feed RSS",className:"rss_feed",children:Object(i.jsx)("span",{className:"icon-rss-two"})}),Object(i.jsx)("li",{children:Object(i.jsxs)("a",{href:"https://github.com/italia/covid19-dashboard-vaccini",title:"",children:[Object(i.jsx)(d.b,{color:"white",icon:"it-github",padding:!0,size:"small"}),"GitHub"]})}),Object(i.jsx)("li",{children:Object(i.jsxs)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",title:"",children:[Object(i.jsx)(d.b,{color:"white",icon:"it-github",padding:!0,size:"small"}),"Open Data"]})})]})})})]})})})},h=a(7),b=a.n(h),x=a(38),u=a(10),f=a(144),O=(a(14),function(e){return function(t){return function(a){return a[e]===t}}}),g=O("area"),p=g("ITA"),v=(O("TML_FASCIA_ETA"),function(e){return Object(l.a)(Object(l.a)({},e),{},{area:w[e.area]})}),w={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli-Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"Trentino-Alto Adige/S\xfcdtirol",PAT:"Prov. Aut. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta/Vall\xe9e d'Aoste",VEN:"Veneto"},y=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),l=Object(o.a)(r,2),d=l[0],j=l[1],m=u.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(c.useEffect)((function(){(function(){var e=Object(x.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n(f.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"mw-100 h-100",children:Object(i.jsx)("svg",{width:498,height:478,children:Object(i.jsxs)("g",{className:"countries",children:[s.map((function(t,a){var c,s,n=null===(c=e.summary)||void 0===c||null===(s=c.deliverySummary)||void 0===s?void 0:s.filter(g(t.properties.reg_name)),r={};return n&&n.length>0&&(r=n[0]),Object(i.jsx)("path",{d:u.d().projection(m)(t),className:"country",fill:"rgba(0,102,204,".concat(.02*r.percentuale_somministrazione,")"),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t=r.index,void(d===t?(e.handleCountryClick(null),j(null)):(e.handleCountryClick(t),j(t)));var t},children:Object(i.jsx)("title",{children:Object(i.jsxs)("span",{className:"bg-info",children:[r.area," ",r.percentuale_somministrazione,"%"]})})},"path-".concat(a))})),");"]})})})},N=function(e){return Object(i.jsx)("div",{className:"d-flex m-2 p-2 pt-4 pb-4 w-100 h-75 justify-content-center text-center "+e.classes,children:e.text})},z=a(15),_=a.n(z),S=a(26),C=a.n(S);a(140);_.a.DataTable=C.a;var A=[{title:"Regione",data:"area"},{title:"Provincia",data:"provincia"},{title:"Comune",data:"comune"},{title:"Presidio ospedaliero",data:"presidio_ospedaliero"}],P=function(e){return Object(c.useEffect)((function(){var t,a;_()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!0,searching:!0,destroy:!0,pagingType:"full_numbers",data:(null===(t=e.summary)||void 0===t||null===(a=t.dataVaxLocations)||void 0===a?void 0:a.data)||[],columns:A})})),Object(i.jsx)("div",{id:"datatable-locations",style:{width:"80%"},children:Object(i.jsx)("table",{className:"table table-borderless compact",cellSpacing:"0",width:"100%"})})};_.a.DataTable=C.a;var k=[{title:"Regioni",data:"area"},{title:"Somm",data:"dosi_somministrate"},{title:"Cons",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],T=function(e){return Object(c.useEffect)((function(){var t,a,i=_()("#datatable").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>>",paging:!1,searching:!0,destroy:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.deliverySummary)||[],columns:k});(null===e||void 0===e||null===(a=e.selected)||void 0===a?void 0:a.area)?i.search(e.selected.area).draw():i.search(" ").draw()})),Object(i.jsx)("div",{id:"datatable",className:"d-flex",children:Object(i.jsx)("table",{className:"table table-borderless compact",cellSpacing:"0",width:"100%"})})},F=a(143),V=a.n(F),D=function(e){var t;return Object(i.jsxs)("div",{className:"d-flex flex-column justify-content-center h-100 mt-2 mb-3",children:[Object(i.jsx)("div",{className:"timestamp mx-auto",children:Object(i.jsxs)("h6",{children:["Dati aggiornati al:"," ",V()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"meds.png",alt:"meds",className:"pr-5"})," ",Object(i.jsx)("h1",{className:"pl-5 mt-4 font-weight-light",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("en")})]}),Object(i.jsx)("span",{className:"border-top mt-2 mb-2"}),Object(i.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(i.jsx)("img",{src:"logo.png",alt:"fiore",height:"30"}),Object(i.jsx)("img",{src:"logo.png",alt:"fiore",height:"30"}),Object(i.jsx)("img",{src:"logo.png",alt:"fiore",height:"30",className:"pr-5"})," ",Object(i.jsx)("h6",{className:"pl-5",children:"Totale vaccinazioni"})]})]})})]})},E=function(e){console.log(e);var t,a=e.dataDeliveryVaxDetail.data.slice(0,1)[0].data,i=e.dataSommVaxSummary.data.filter(p).reduce((t="totale",function(e,a){return e+ +(null===a||void 0===a?void 0:a[t])}),0),c=e.dataVaxSummary.data.map(v),s=e.dataProfileSummary.data;return console.log(s),{timestamp:a,tot:i,deliverySummary:c,categoriesAndAges:s}},I=function(){var e=Object(x.a)(b.a.mark((function e(){var t,a,i,c,s,n,r,o,d,j,m,h,x,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/somministrazioni-vaccini-summary-latest.json");case 2:return t=e.sent,e.next=5,fetch("data/somministrazioni-vaccini-latest.json");case 5:return a=e.sent,e.next=8,fetch("data/consegne-vaccini-latest.json");case 8:return i=e.sent,e.next=11,fetch("data/vaccini-summary-latest.json");case 11:return c=e.sent,e.next=14,fetch("data/anagrafica-vaccini-summary-latest.json");case 14:return s=e.sent,e.next=17,fetch("data/punti-somministrazione-latest.json");case 17:return n=e.sent,e.next=20,fetch("data/punti-somministrazione-latest.json");case 20:return r=e.sent,e.next=23,t.json();case 23:return o=e.sent,e.next=26,a.json();case 26:return d=e.sent,e.next=29,i.json();case 29:return j=e.sent,e.next=32,c.json();case 32:return m=e.sent,e.next=35,s.json();case 35:return h=e.sent,e.next=38,n.json();case 38:return x=e.sent,e.next=41,r.json();case 41:return u=e.sent,e.abrupt("return",Object(l.a)(Object(l.a)({},E({dataSommVaxSummary:o,dataSommVaxDetail:d,dataDeliveryVaxDetail:j,dataVaxSummary:m,dataProfileSummary:h,dataPointsSommSummary:x})),{},{dataVaxLocations:u}));case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=+e.width,a=+e.height,s=Object(c.useRef)();Object(c.useEffect)((function(){u.g(s.current).attr("width",t).attr("height",a),n()}));var n=function(){var i=(null===e||void 0===e?void 0:e.data)||[],c=u.g(s.current),n=50,r=50,l=u.e().padding(.2),o=u.f().domain([0,5e4]);o.range([a,0]),l.range([0,t]).domain(i.map((function(e){return e.fascia_anagrafica}))),c.attr("width",t+2*r).attr("height",a+2*n).attr("id","svg-bar"),c.append("text").attr("x",t/2+r).attr("y",n/2).attr("class","title").attr("text-anchor","middle").attr(e.title),c.append("text").attr("x",t/2+r).attr("y",2*n).attr("transform","translate(0,".concat(a-n/4,")")).attr("class","title").text(e.xtitle),c.append("text").attr("x",-a/2-n).attr("y",r/2.4).attr("transform","rotate(-90)").attr("class","title").text(e.ytitle);var d=c.append("g").attr("transform","translate(".concat(r,",").concat(n,")"));d.append("g").attr("class","axis").call(u.b(o)),d.append("g").attr("class","axis").attr("transform","translate(0,".concat(a,")")).call(u.a(l)),d.append("g").attr("class","grid-hline").call(u.b().scale(o).tickSize(-t,0,0).tickFormat("")),d.selectAll().data(i).enter().append("rect").attr("class","bar").attr("x",(function(e){return l(e.fascia_anagrafica)})).attr("y",(function(e){return o(e.totale)})).attr("height",(function(e){return a-o(e.totale)})).attr("width",l.bandwidth()).append("title").attr("x",(function(e){return l(e.fascia_anagrafica)})).attr("y",(function(e){return o(e.totale)})).text((function(e){return"Fascia ".concat(e.fascia_anagrafica," totale: ").concat(e.totale)}))};return Object(i.jsx)("div",{className:"chart",children:Object(i.jsx)("svg",{ref:s})})};var M=function(){var e=Object(c.useState)({}),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),r=Object(o.a)(n,2),d=r[0],h=r[1];return Object(c.useEffect)((function(){I().then((function(e){s(e)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(j,{}),Object(i.jsx)(D,{className:"mb-3",summary:Object(l.a)({},a)}),Object(i.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-center w-75 h-100 mx-auto mt-3",style:{height:150},children:[Object(i.jsx)(N,{classes:"bg-primary text-white",text:"Il 27 dicembre sono state consegnate 9.750 dosi di vaccino, interamente somministrate."}),Object(i.jsx)(N,{classes:"bg-primary text-white",text:"Dal 30 Dicembre al 1\xb0 Gennaio sono state consegnate 469.950 dosi di vaccino."})]}),Object(i.jsx)("div",{className:"d-flex justify-content-center w-75 mx-auto",style:{height:150},children:Object(i.jsx)(N,{classes:"text-black text-uppercase font-weight-bold",text:"Le somministrazioni delle 469.950 dosi di vaccino su tutto il territorio sono iniziate il 31 dicembre"})}),Object(i.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-center w-75 mx-auto h-100 mt-3",children:[Object(i.jsx)(T,{summary:Object(l.a)({},a),selected:d,className:"mr-5 h-100"}),Object(i.jsx)(y,{summary:Object(l.a)({},a),handleCountryClick:function(e){h(Object(l.a)({},a.deliverySummary[e]))},className:"ml-5 w-100 h-100"})]}),Object(i.jsx)("div",{className:"d-flex flex-column flex-sm-row justify-content-center w-75 mx-auto h-100 mt-3",children:Object(i.jsx)(L,{title:"",xtitle:"Fascia d'et\xe0",ytitle:"",width:"800",height:"300",data:a.categoriesAndAges})}),Object(i.jsxs)("div",{className:"w-75 mx-auto h-100 mt-3",children:[Object(i.jsx)("h4",{children:"Punti di somministrazione"}),Object(i.jsx)(P,{summary:Object(l.a)({},a),className:"mr-5 h-100"})]}),Object(i.jsx)(m,{})]})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,233)).then((function(t){var a=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),i(e),c(e),s(e),n(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(M,{})}),document.getElementById("root")),R()},30:function(e,t,a){}},[[232,1,2]]]);
//# sourceMappingURL=main.7a311b8a.chunk.js.map